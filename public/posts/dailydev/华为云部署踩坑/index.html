<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>华为云部署踩坑 | KurongBlog</title>
<meta name=keywords content="Daily Dev,Project Dev"><meta name=description content="华为云部署踩坑
Docker 国内镜像源（截止到2024.11.1）

  
      
          DockerHub 镜像仓库
          是否正常
      
  
  
      
          hub.xdark.top
          正常
      
      
          hub.littlediary.cn
          正常
      
      
          dockerpull.org
          新增
      
      
          hub.crdz.gq
          正常
      
      
          docker.1panel.live
          正常
      
      
          docker.unsee.tech
          新增
      
      
          docker.m.daocloud.io
          正常
      
      
          docker.kejilion.pro
          正常
      
      
          registry.dockermirror.com
          正常
      
      
          hub.rat.dev
          正常
      
      
          dhub.kubesre.xyz
          正常
      
      
          docker.nastool.de
          正常
      
      
          docker.hpcloud.cloud
          失效
      
      
          docker.hlyun.org
          失效
      
      
          doublezonline.cloud
          失效
      
      
          docker.chenby.cn
          失效
      
      
          ginger20240704.asia
          失效
      
      
          lynn520.xyz
          失效
      
      
          hub.docker-ttc.xyz
          失效
      
      
          noohub.ru
          失效
      
      
          docker.nat.tf
          失效
      
      
          dockerproxy.cn
          失效
      
      
          freeno.xyz
          失效
      
      
          docker.registry.cyou
          失效
      
      
          hub.yuzuha.cc
          失效
      
      
          docker-cf.registry.cyou
          失效
      
      
          docker.mrxn.net
          失效
      
      
          dockerproxy.github.io
          失效
      
      
          docker.wget.at
          失效
      
      
          atomhub.openatom.cn
          失效
      
      
          ccr.ccs.tencentyun.com
          失效
      
      
          dockerproxy.com
          失效
      
      
          dislabaiot.xyz
          失效
      
      
          dockerpull.com
          失效
      
      
          hub.firefly.store
          失效
      
  

配置方式1：临时使用
直接使用，直接拿镜像域名拼接上官方镜像名，例如要拉去镜像istio/distroless，可以用下面写法（不要带 https://）"><meta name=author content="Kurong"><link rel=canonical href=http://localhost:1313/posts/dailydev/%E5%8D%8E%E4%B8%BA%E4%BA%91%E9%83%A8%E7%BD%B2%E8%B8%A9%E5%9D%91/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=http://localhost:1313/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/dailydev/%E5%8D%8E%E4%B8%BA%E4%BA%91%E9%83%A8%E7%BD%B2%E8%B8%A9%E5%9D%91/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script><meta property="og:title" content="华为云部署踩坑"><meta property="og:description" content="华为云部署踩坑
Docker 国内镜像源（截止到2024.11.1）

  
      
          DockerHub 镜像仓库
          是否正常
      
  
  
      
          hub.xdark.top
          正常
      
      
          hub.littlediary.cn
          正常
      
      
          dockerpull.org
          新增
      
      
          hub.crdz.gq
          正常
      
      
          docker.1panel.live
          正常
      
      
          docker.unsee.tech
          新增
      
      
          docker.m.daocloud.io
          正常
      
      
          docker.kejilion.pro
          正常
      
      
          registry.dockermirror.com
          正常
      
      
          hub.rat.dev
          正常
      
      
          dhub.kubesre.xyz
          正常
      
      
          docker.nastool.de
          正常
      
      
          docker.hpcloud.cloud
          失效
      
      
          docker.hlyun.org
          失效
      
      
          doublezonline.cloud
          失效
      
      
          docker.chenby.cn
          失效
      
      
          ginger20240704.asia
          失效
      
      
          lynn520.xyz
          失效
      
      
          hub.docker-ttc.xyz
          失效
      
      
          noohub.ru
          失效
      
      
          docker.nat.tf
          失效
      
      
          dockerproxy.cn
          失效
      
      
          freeno.xyz
          失效
      
      
          docker.registry.cyou
          失效
      
      
          hub.yuzuha.cc
          失效
      
      
          docker-cf.registry.cyou
          失效
      
      
          docker.mrxn.net
          失效
      
      
          dockerproxy.github.io
          失效
      
      
          docker.wget.at
          失效
      
      
          atomhub.openatom.cn
          失效
      
      
          ccr.ccs.tencentyun.com
          失效
      
      
          dockerproxy.com
          失效
      
      
          dislabaiot.xyz
          失效
      
      
          dockerpull.com
          失效
      
      
          hub.firefly.store
          失效
      
  

配置方式1：临时使用
直接使用，直接拿镜像域名拼接上官方镜像名，例如要拉去镜像istio/distroless，可以用下面写法（不要带 https://）"><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/posts/dailydev/%E5%8D%8E%E4%B8%BA%E4%BA%91%E9%83%A8%E7%BD%B2%E8%B8%A9%E5%9D%91/"><meta property="og:image" content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-11-05T00:00:00+00:00"><meta property="article:modified_time" content="2024-11-05T00:00:00+00:00"><meta property="og:site_name" content="KurongBlog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="华为云部署踩坑"><meta name=twitter:description content="华为云部署踩坑
Docker 国内镜像源（截止到2024.11.1）

  
      
          DockerHub 镜像仓库
          是否正常
      
  
  
      
          hub.xdark.top
          正常
      
      
          hub.littlediary.cn
          正常
      
      
          dockerpull.org
          新增
      
      
          hub.crdz.gq
          正常
      
      
          docker.1panel.live
          正常
      
      
          docker.unsee.tech
          新增
      
      
          docker.m.daocloud.io
          正常
      
      
          docker.kejilion.pro
          正常
      
      
          registry.dockermirror.com
          正常
      
      
          hub.rat.dev
          正常
      
      
          dhub.kubesre.xyz
          正常
      
      
          docker.nastool.de
          正常
      
      
          docker.hpcloud.cloud
          失效
      
      
          docker.hlyun.org
          失效
      
      
          doublezonline.cloud
          失效
      
      
          docker.chenby.cn
          失效
      
      
          ginger20240704.asia
          失效
      
      
          lynn520.xyz
          失效
      
      
          hub.docker-ttc.xyz
          失效
      
      
          noohub.ru
          失效
      
      
          docker.nat.tf
          失效
      
      
          dockerproxy.cn
          失效
      
      
          freeno.xyz
          失效
      
      
          docker.registry.cyou
          失效
      
      
          hub.yuzuha.cc
          失效
      
      
          docker-cf.registry.cyou
          失效
      
      
          docker.mrxn.net
          失效
      
      
          dockerproxy.github.io
          失效
      
      
          docker.wget.at
          失效
      
      
          atomhub.openatom.cn
          失效
      
      
          ccr.ccs.tencentyun.com
          失效
      
      
          dockerproxy.com
          失效
      
      
          dislabaiot.xyz
          失效
      
      
          dockerpull.com
          失效
      
      
          hub.firefly.store
          失效
      
  

配置方式1：临时使用
直接使用，直接拿镜像域名拼接上官方镜像名，例如要拉去镜像istio/distroless，可以用下面写法（不要带 https://）"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"华为云部署踩坑","item":"http://localhost:1313/posts/dailydev/%E5%8D%8E%E4%B8%BA%E4%BA%91%E9%83%A8%E7%BD%B2%E8%B8%A9%E5%9D%91/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"华为云部署踩坑","name":"华为云部署踩坑","description":"华为云部署踩坑 Docker 国内镜像源（截止到2024.11.1） DockerHub 镜像仓库 是否正常 hub.xdark.top 正常 hub.littlediary.cn 正常 dockerpull.org 新增 hub.crdz.gq 正常 docker.1panel.live 正常 docker.unsee.tech 新增 docker.m.daocloud.io 正常 docker.kejilion.pro 正常 registry.dockermirror.com 正常 hub.rat.dev 正常 dhub.kubesre.xyz 正常 docker.nastool.de 正常 docker.hpcloud.cloud 失效 docker.hlyun.org 失效 doublezonline.cloud 失效 docker.chenby.cn 失效 ginger20240704.asia 失效 lynn520.xyz 失效 hub.docker-ttc.xyz 失效 noohub.ru 失效 docker.nat.tf 失效 dockerproxy.cn 失效 freeno.xyz 失效 docker.registry.cyou 失效 hub.yuzuha.cc 失效 docker-cf.registry.cyou 失效 docker.mrxn.net 失效 dockerproxy.github.io 失效 docker.wget.at 失效 atomhub.openatom.cn 失效 ccr.ccs.tencentyun.com 失效 dockerproxy.com 失效 dislabaiot.xyz 失效 dockerpull.com 失效 hub.firefly.store 失效 配置方式1：临时使用 直接使用，直接拿镜像域名拼接上官方镜像名，例如要拉去镜像istio/distroless，可以用下面写法（不要带 https://）\n","keywords":["Daily Dev","Project Dev"],"articleBody":"华为云部署踩坑 Docker 国内镜像源（截止到2024.11.1） DockerHub 镜像仓库 是否正常 hub.xdark.top 正常 hub.littlediary.cn 正常 dockerpull.org 新增 hub.crdz.gq 正常 docker.1panel.live 正常 docker.unsee.tech 新增 docker.m.daocloud.io 正常 docker.kejilion.pro 正常 registry.dockermirror.com 正常 hub.rat.dev 正常 dhub.kubesre.xyz 正常 docker.nastool.de 正常 docker.hpcloud.cloud 失效 docker.hlyun.org 失效 doublezonline.cloud 失效 docker.chenby.cn 失效 ginger20240704.asia 失效 lynn520.xyz 失效 hub.docker-ttc.xyz 失效 noohub.ru 失效 docker.nat.tf 失效 dockerproxy.cn 失效 freeno.xyz 失效 docker.registry.cyou 失效 hub.yuzuha.cc 失效 docker-cf.registry.cyou 失效 docker.mrxn.net 失效 dockerproxy.github.io 失效 docker.wget.at 失效 atomhub.openatom.cn 失效 ccr.ccs.tencentyun.com 失效 dockerproxy.com 失效 dislabaiot.xyz 失效 dockerpull.com 失效 hub.firefly.store 失效 配置方式1：临时使用 直接使用，直接拿镜像域名拼接上官方镜像名，例如要拉去镜像istio/distroless，可以用下面写法（不要带 https://）\n1 docker pull docker.unsee.tech/istio/distroless 配置方式2：长久有效 修改文件 /etc/docker/daemon.json（如果不存在则需要创建创建，注意不要写入中文，要带https://），并重启服务。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # 创建目录 sudo mkdir -p /etc/docker # 写入配置文件 sudo tee /etc/docker/daemon.json \u003c\u003c-'EOF' { \"registry-mirrors\": [ \"https://docker.unsee.tech\", \"https://dockerpull.org\", \"docker.1panel.live\", \"https://dockerhub.icu\" ] } EOF # 重启docker服务 sudo systemctl daemon-reload \u0026\u0026 sudo systemctl restart docker Ubuntu 安装 Docker 1. 更新系统包索引 首先更新系统包索引，以确保所有软件包是最新的：\n1 sudo apt update 2. 安装所需的依赖包 安装一些让 apt 能够使用 HTTPS 访问 Docker 仓库的包：\n1 sudo apt install apt-transport-https ca-certificates curl software-properties-common 3. 添加 Docker 的官方 GPG 密钥 使用以下命令添加 Docker 的 GPG 密钥：\n1 curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg 4. 添加 Docker 仓库 添加 Docker 官方的 APT 软件仓库：\n1 echo \"deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable\" | sudo tee /etc/apt/sources.list.d/docker.list \u003e /dev/null 5. 更新包索引并安装 Docker 现在可以更新包索引并安装 Docker：\n1 2 sudo apt update sudo apt install docker-ce docker-ce-cli containerd.io 6. 启动 Docker 并设置开机自启 安装完成后，可以启动 Docker 并让它开机时自动启动：\n1 2 sudo systemctl start docker sudo systemctl enable docker Docker 容器打包 先写好Dockerfile，怎么写可以根据需要问chatgpt，它的本质作用是只在镜像化的时候才会调用。\n下面是使用 commit 命令直接把容器打包成镜像：\n1 docker commit [容器ID或名称] new_image_name 这里的打包尤其要注意不同系统的指令集架构不同，会导致打包的镜像不可用。比如 MacOS 为 arm64，而Ubuntu 用的 amd64，不过这个可以在创建镜像或容器实例化时指定。\n然后用 save 命令输出到指定路径，方便上传：\n1 docker save -o image_name.tar your_image_name 可以使用 load 指令还原镜像：\n1 docker load -i image_name.tar 如果用Dockerfile创建镜像的话，可以参考下面的指令：\n1 docker build --progress=plain -t kg-vs-backend-latest -f ./.devcontainer/Dockerfile /usr/Project/PCCKGVisualization -t 后面是镜像名，-f 后面是 Dockerfile 位置，最后面的路径为指定 Dockerfile 的上下文。\n实例化一个容器并配置转发接口、挂载位置：\n1 docker run -d -p 8000:8000 -v ./PCCKGVisualization:/IdeaProjects/PCCKGVisualization kg-vs-backend MacOS 服务器连接 ssh 连接：先设置好服务器密码，默认用户名是 root 。然后用\n1 ssh root@公网IP 连接，然后输入密码即可。\nvscode 的 remote-ssh 连接：不解释，很简答。\n文件上传与下载 下载：\n1 scp root@139.x.x.x:/home/test.txt /home/ 上传：\n1 scp /home/test.txt root@139.x.x.x:/home ","wordCount":"327","inLanguage":"en","image":"http://localhost:1313/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-11-05T00:00:00Z","dateModified":"2024-11-05T00:00:00Z","author":{"@type":"Person","name":"Kurong"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/dailydev/%E5%8D%8E%E4%B8%BA%E4%BA%91%E9%83%A8%E7%BD%B2%E8%B8%A9%E5%9D%91/"},"publisher":{"@type":"Organization","name":"KurongBlog","logo":{"@type":"ImageObject","url":"http://localhost:1313/%3Clink%20/%20abs%20url%3E"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="Home (Alt + H)"><img src=http://localhost:1313/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=http://localhost:1313/categories/ title=categories><span>categories</span></a></li><li><a href=http://localhost:1313/tags/ title=tags><span>tags</span></a></li><li><a href=http://localhost:1313/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://localhost:1313/>Home</a>&nbsp;»&nbsp;<a href=http://localhost:1313/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">华为云部署踩坑</h1><div class=post-meta><span title='2024-11-05 00:00:00 +0000 UTC'>November 5, 2024</span>&nbsp;·&nbsp;Kurong&nbsp;|&nbsp;<a href=https://github.com/KurongTohsaka/KurongTohsaka.github.io/content/posts/DailyDev/%e5%8d%8e%e4%b8%ba%e4%ba%91%e9%83%a8%e7%bd%b2%e8%b8%a9%e5%9d%91.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#华为云部署踩坑>华为云部署踩坑</a><ul><li><a href=#docker-国内镜像源截止到2024111>Docker 国内镜像源（截止到2024.11.1）</a></li><li><a href=#ubuntu-安装-docker>Ubuntu 安装 Docker</a></li><li><a href=#docker-容器打包>Docker 容器打包</a></li><li><a href=#macos-服务器连接>MacOS 服务器连接</a></li><li><a href=#文件上传与下载>文件上传与下载</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h2 id=华为云部署踩坑>华为云部署踩坑<a hidden class=anchor aria-hidden=true href=#华为云部署踩坑>#</a></h2><h3 id=docker-国内镜像源截止到2024111>Docker 国内镜像源（截止到2024.11.1）<a hidden class=anchor aria-hidden=true href=#docker-国内镜像源截止到2024111>#</a></h3><table><thead><tr><th style=text-align:left>DockerHub 镜像仓库</th><th style=text-align:left>是否正常</th></tr></thead><tbody><tr><td style=text-align:left><code>hub.xdark.top</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>hub.littlediary.cn</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>dockerpull.org</code></td><td style=text-align:left>新增</td></tr><tr><td style=text-align:left><code>hub.crdz.gq</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>docker.1panel.live</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>docker.unsee.tech</code></td><td style=text-align:left>新增</td></tr><tr><td style=text-align:left><code>docker.m.daocloud.io</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>docker.kejilion.pro</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>registry.dockermirror.com</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>hub.rat.dev</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>dhub.kubesre.xyz</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>docker.nastool.de</code></td><td style=text-align:left>正常</td></tr><tr><td style=text-align:left><code>docker.hpcloud.cloud</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>docker.hlyun.org</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>doublezonline.cloud</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>docker.chenby.cn</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>ginger20240704.asia</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>lynn520.xyz</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>hub.docker-ttc.xyz</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>noohub.ru</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>docker.nat.tf</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>dockerproxy.cn</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>freeno.xyz</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>docker.registry.cyou</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>hub.yuzuha.cc</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>docker-cf.registry.cyou</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>docker.mrxn.net</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>dockerproxy.github.io</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>docker.wget.at</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>atomhub.openatom.cn</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>ccr.ccs.tencentyun.com</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>dockerproxy.com</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>dislabaiot.xyz</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>dockerpull.com</code></td><td style=text-align:left>失效</td></tr><tr><td style=text-align:left><code>hub.firefly.store</code></td><td style=text-align:left>失效</td></tr></tbody></table><h4 id=配置方式1临时使用>配置方式1：临时使用<a hidden class=anchor aria-hidden=true href=#配置方式1临时使用>#</a></h4><p>直接使用，直接拿镜像<a href="https://cloud.tencent.com/act/pro/domain-sales?from_column=20065&amp;from=20065">域名</a>拼接上官方镜像名，例如要拉去镜像<code>istio/distroless</code>，可以用下面写法（不要带 <code>https://</code>）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-0-1><a class=lnlinks href=#hl-0-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>docker pull docker.unsee.tech/istio/distroless
</span></span></code></pre></td></tr></table></div></div><h4 id=配置方式2长久有效>配置方式2：长久有效<a hidden class=anchor aria-hidden=true href=#配置方式2长久有效>#</a></h4><p>修改文件 <code>/etc/docker/daemon.json</code>（如果不存在则需要创建创建，注意不要写入中文，要带<code>https://</code>），并重启服务。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-1-1><a class=lnlinks href=#hl-1-1> 1</a>
</span><span class=lnt id=hl-1-2><a class=lnlinks href=#hl-1-2> 2</a>
</span><span class=lnt id=hl-1-3><a class=lnlinks href=#hl-1-3> 3</a>
</span><span class=lnt id=hl-1-4><a class=lnlinks href=#hl-1-4> 4</a>
</span><span class=lnt id=hl-1-5><a class=lnlinks href=#hl-1-5> 5</a>
</span><span class=lnt id=hl-1-6><a class=lnlinks href=#hl-1-6> 6</a>
</span><span class=lnt id=hl-1-7><a class=lnlinks href=#hl-1-7> 7</a>
</span><span class=lnt id=hl-1-8><a class=lnlinks href=#hl-1-8> 8</a>
</span><span class=lnt id=hl-1-9><a class=lnlinks href=#hl-1-9> 9</a>
</span><span class=lnt id=hl-1-10><a class=lnlinks href=#hl-1-10>10</a>
</span><span class=lnt id=hl-1-11><a class=lnlinks href=#hl-1-11>11</a>
</span><span class=lnt id=hl-1-12><a class=lnlinks href=#hl-1-12>12</a>
</span><span class=lnt id=hl-1-13><a class=lnlinks href=#hl-1-13>13</a>
</span><span class=lnt id=hl-1-14><a class=lnlinks href=#hl-1-14>14</a>
</span><span class=lnt id=hl-1-15><a class=lnlinks href=#hl-1-15>15</a>
</span><span class=lnt id=hl-1-16><a class=lnlinks href=#hl-1-16>16</a>
</span><span class=lnt id=hl-1-17><a class=lnlinks href=#hl-1-17>17</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 创建目录</span>
</span></span><span class=line><span class=cl>sudo mkdir -p /etc/docker
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 写入配置文件</span>
</span></span><span class=line><span class=cl>sudo tee /etc/docker/daemon.json <span class=s>&lt;&lt;-&#39;EOF&#39;
</span></span></span><span class=line><span class=cl><span class=s>{
</span></span></span><span class=line><span class=cl><span class=s>    &#34;registry-mirrors&#34;: [
</span></span></span><span class=line><span class=cl><span class=s>    	&#34;https://docker.unsee.tech&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;https://dockerpull.org&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;docker.1panel.live&#34;,
</span></span></span><span class=line><span class=cl><span class=s>        &#34;https://dockerhub.icu&#34;
</span></span></span><span class=line><span class=cl><span class=s>    ]
</span></span></span><span class=line><span class=cl><span class=s>}
</span></span></span><span class=line><span class=cl><span class=s>EOF</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 重启docker服务</span>
</span></span><span class=line><span class=cl>sudo systemctl daemon-reload <span class=o>&amp;&amp;</span> sudo systemctl restart docker
</span></span></code></pre></td></tr></table></div></div><h3 id=ubuntu-安装-docker>Ubuntu 安装 Docker<a hidden class=anchor aria-hidden=true href=#ubuntu-安装-docker>#</a></h3><h4 id=1-更新系统包索引>1. 更新系统包索引<a hidden class=anchor aria-hidden=true href=#1-更新系统包索引>#</a></h4><p>首先更新系统包索引，以确保所有软件包是最新的：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-2-1><a class=lnlinks href=#hl-2-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt update
</span></span></code></pre></td></tr></table></div></div><h4 id=2-安装所需的依赖包>2. 安装所需的依赖包<a hidden class=anchor aria-hidden=true href=#2-安装所需的依赖包>#</a></h4><p>安装一些让 apt 能够使用 HTTPS 访问 Docker 仓库的包：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-3-1><a class=lnlinks href=#hl-3-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt install apt-transport-https ca-certificates curl software-properties-common
</span></span></code></pre></td></tr></table></div></div><h4 id=3-添加-docker-的官方-gpg-密钥>3. 添加 Docker 的官方 GPG 密钥<a hidden class=anchor aria-hidden=true href=#3-添加-docker-的官方-gpg-密钥>#</a></h4><p>使用以下命令添加 Docker 的 GPG 密钥：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-4-1><a class=lnlinks href=#hl-4-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>curl</span> <span class=o>-</span><span class=n>fsSL</span> <span class=n>https</span><span class=p>:</span><span class=o>//</span><span class=n>download</span><span class=o>.</span><span class=n>docker</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>linux</span><span class=o>/</span><span class=n>ubuntu</span><span class=o>/</span><span class=n>gpg</span> <span class=o>|</span> <span class=n>sudo</span> <span class=n>gpg</span> <span class=o>--</span><span class=n>dearmor</span> <span class=o>-</span><span class=n>o</span> <span class=o>/</span><span class=n>usr</span><span class=o>/</span><span class=n>share</span><span class=o>/</span><span class=n>keyrings</span><span class=o>/</span><span class=n>docker</span><span class=o>-</span><span class=n>archive</span><span class=o>-</span><span class=n>keyring</span><span class=o>.</span><span class=n>gpg</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=4-添加-docker-仓库>4. 添加 Docker 仓库<a hidden class=anchor aria-hidden=true href=#4-添加-docker-仓库>#</a></h4><p>添加 Docker 官方的 APT 软件仓库：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-5-1><a class=lnlinks href=#hl-5-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>echo</span> <span class=s2>&#34;deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&#34;</span> <span class=o>|</span> <span class=n>sudo</span> <span class=n>tee</span> <span class=o>/</span><span class=n>etc</span><span class=o>/</span><span class=n>apt</span><span class=o>/</span><span class=n>sources</span><span class=o>.</span><span class=n>list</span><span class=o>.</span><span class=n>d</span><span class=o>/</span><span class=n>docker</span><span class=o>.</span><span class=n>list</span> <span class=o>&gt;</span> <span class=o>/</span><span class=n>dev</span><span class=o>/</span><span class=n>null</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=5-更新包索引并安装-docker>5. 更新包索引并安装 Docker<a hidden class=anchor aria-hidden=true href=#5-更新包索引并安装-docker>#</a></h4><p>现在可以更新包索引并安装 Docker：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-6-1><a class=lnlinks href=#hl-6-1>1</a>
</span><span class=lnt id=hl-6-2><a class=lnlinks href=#hl-6-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt update
</span></span><span class=line><span class=cl>sudo apt install docker-ce docker-ce-cli containerd.io
</span></span></code></pre></td></tr></table></div></div><h4 id=6-启动-docker-并设置开机自启>6. 启动 Docker 并设置开机自启<a hidden class=anchor aria-hidden=true href=#6-启动-docker-并设置开机自启>#</a></h4><p>安装完成后，可以启动 Docker 并让它开机时自动启动：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-7-1><a class=lnlinks href=#hl-7-1>1</a>
</span><span class=lnt id=hl-7-2><a class=lnlinks href=#hl-7-2>2</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo systemctl start docker
</span></span><span class=line><span class=cl>sudo systemctl enable docker
</span></span></code></pre></td></tr></table></div></div><h3 id=docker-容器打包>Docker 容器打包<a hidden class=anchor aria-hidden=true href=#docker-容器打包>#</a></h3><p>先写好Dockerfile，怎么写可以根据需要问chatgpt，它的本质作用是只在镜像化的时候才会调用。</p><p>下面是使用 commit 命令直接把容器打包成镜像：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-8-1><a class=lnlinks href=#hl-8-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker commit <span class=o>[</span>容器ID或名称<span class=o>]</span> new_image_name
</span></span></code></pre></td></tr></table></div></div><p>这里的打包尤其要注意不同系统的指令集架构不同，会导致打包的镜像不可用。比如 MacOS 为 arm64，而Ubuntu 用的 amd64，不过这个可以在创建镜像或容器实例化时指定。</p><p>然后用 save 命令输出到指定路径，方便上传：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-9-1><a class=lnlinks href=#hl-9-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker save -o image_name.tar your_image_name
</span></span></code></pre></td></tr></table></div></div><p>可以使用 load 指令还原镜像：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-10-1><a class=lnlinks href=#hl-10-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker load -i image_name.tar
</span></span></code></pre></td></tr></table></div></div><p>如果用Dockerfile创建镜像的话，可以参考下面的指令：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-11-1><a class=lnlinks href=#hl-11-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker build --progress<span class=o>=</span>plain -t kg-vs-backend-latest -f ./.devcontainer/Dockerfile /usr/Project/PCCKGVisualization
</span></span></code></pre></td></tr></table></div></div><p>-t 后面是镜像名，-f 后面是 Dockerfile 位置，最后面的路径为指定 Dockerfile 的上下文。</p><p>实例化一个容器并配置转发接口、挂载位置：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-12-1><a class=lnlinks href=#hl-12-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -d -p 8000:8000 -v ./PCCKGVisualization:/IdeaProjects/PCCKGVisualization kg-vs-backend
</span></span></code></pre></td></tr></table></div></div><h3 id=macos-服务器连接>MacOS 服务器连接<a hidden class=anchor aria-hidden=true href=#macos-服务器连接>#</a></h3><ol><li><p>ssh 连接：先设置好服务器密码，默认用户名是 root 。然后用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-13-1><a class=lnlinks href=#hl-13-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh root@公网IP
</span></span></code></pre></td></tr></table></div></div><p>连接，然后输入密码即可。</p></li><li><p>vscode 的 remote-ssh 连接：不解释，很简答。</p></li></ol><h3 id=文件上传与下载>文件上传与下载<a hidden class=anchor aria-hidden=true href=#文件上传与下载>#</a></h3><ul><li><p>下载：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-14-1><a class=lnlinks href=#hl-14-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>scp root@139.x.x.x:/home/test.txt /home/
</span></span></code></pre></td></tr></table></div></div></li><li><p>上传：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt id=hl-15-1><a class=lnlinks href=#hl-15-1>1</a>
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>scp /home/test.txt root@139.x.x.x:/home
</span></span></code></pre></td></tr></table></div></div></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/daily-dev/>Daily Dev</a></li><li><a href=http://localhost:1313/tags/project-dev/>Project Dev</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/dailydev/%E6%B7%B1%E5%85%A5rabbitmq%E8%AE%B0%E5%BD%95/><span class=title>« Prev</span><br><span>《深入RabbitMQ》记录</span>
</a><a class=next href=http://localhost:1313/posts/dailydev/%E8%AE%A1%E7%BB%84kg%E8%AF%BE%E9%A2%98%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E4%B8%89/><span class=title>Next »</span><br><span>《计组KG》课题开发过程（三）</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=http://localhost:1313/>KurongBlog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>